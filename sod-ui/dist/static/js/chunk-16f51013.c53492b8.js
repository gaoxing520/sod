(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16f51013"],{"68bf":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("section",{staticClass:"handleRoleDialog"},[l("el-alert",{attrs:{title:"您可以选择角色分配给当前选定的用户",type:"info",closable:!1}}),e._v(" "),l("el-row",[l("el-col",{attrs:{span:4}},[e._v("用户名:")]),e._v(" "),l("el-col",{attrs:{span:20}},[e._v(e._s(this.handleObj.userName))])],1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:4}},[e._v("所属角色:")]),e._v(" "),l("el-col",{attrs:{span:20}},[l("el-link",{attrs:{type:"primary",underline:!1}},[e._v(e._s(this.handleObj.roleName))])],1)],1),e._v(" "),l("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"highlight-current-row":"",border:"",stripe:""},on:{"current-change":e.handleSelectionChange,select:e.selectSingleTable}},[l("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),l("el-table-column",{attrs:{prop:"name",label:"角色名"}}),e._v(" "),l("el-table-column",{attrs:{prop:"enable",label:"是否禁用"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.enable?l("el-link",{attrs:{type:"primary",underline:!1}},[e._v("正常")]):l("el-link",{attrs:{type:"danger",underline:!1}},[e._v("禁用")])]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"description",label:"描述"}})],1),e._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.trueDialog()}}},[e._v("确 定")]),e._v(" "),l("el-button",{on:{click:function(t){return e.cancelDialog()}}},[e._v("取 消")])],1)],1)},s=[],n=(l("ac6a"),{name:"handleRoleDialog",props:{handleObj:{type:Object}},data:function(){return{tableData:[],choserow:[]}},created:function(){},methods:{initDetail:function(){var e=this;this.axios.post(interfaceObj.userManage_userRole,{userId:this.handleObj.userId}).then((function(t){var l=t.data.roles;l.forEach((function(e){e.checked=!1})),e.tableData=l}))},handleSelectionChange:function(e){this.choserow=e,this.$refs.singleTable.clearSelection(),this.$refs.singleTable.toggleRowSelection(e,!0)},selectSingleTable:function(e,t){e.length>0?(this.$refs.singleTable.setCurrentRow(t),this.$refs.singleTable.clearSelection(),this.$refs.singleTable.toggleRowSelection(t,!0),this.choserow=t):(this.choserow=null,this.$refs.singleTable.setCurrentRow([]),this.$refs.singleTable.clearSelection())},trueDialog:function(){var e=this;if(""!=this.choserow){if("admin"!=this.handleObj.userName&&"3"==this.choserow.id)return void this.$message({message:"普通用户不能授予【超级管理员】角色",type:"warning"});this.axios.post(interfaceObj.userManage_allocation,{userId:this.handleObj.userId,roleId:this.choserow.id}).then((function(t){0==t.data.returnCode?(e.$message({message:"分配成功",type:"success"}),e.$emit("handleDialogClose")):e.$message({type:"error",message:t.data.returnMessage})}))}else this.$message({type:"error",message:"请选择一条数据"})},cancelDialog:function(){this.$emit("handleDialogClose")}}}),r=n,i=(l("db57"),l("2877")),o=Object(i["a"])(r,a,s,!1,null,null,null);t["default"]=o.exports},db57:function(e,t,l){"use strict";var a=l("f336"),s=l.n(a);s.a},f336:function(e,t,l){}}]);