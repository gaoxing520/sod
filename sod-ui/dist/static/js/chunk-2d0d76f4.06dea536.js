(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d76f4"],{7797:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"modelForm",staticClass:"searchBox",attrs:{inline:!0,model:e.queryParams}},[a("el-form-item",{attrs:{label:"服务代码:"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入服务代码名称"},model:{value:e.queryParams.userEleCode,callback:function(t){e.$set(e.queryParams,"userEleCode",t)},expression:"queryParams.userEleCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"字段编码:"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入字段编码"},model:{value:e.queryParams.dbEleCode,callback:function(t){e.$set(e.queryParams,"dbEleCode",t)},expression:"queryParams.dbEleCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"要素中文名称:"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入要素中文名称"},model:{value:e.queryParams.eleName,callback:function(t){e.$set(e.queryParams,"eleName",t)},expression:"queryParams.eleName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.handleQuery}},[e._v("查询")])],1)],1),e._v(" "),a("el-row",{staticClass:"handleTableBox",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.showAddDialog()}}},[e._v("添加")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{size:"small",type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.deleteAlert()}}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"index",width:"50",index:e.table_index}}),e._v(" "),a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userEleCode",label:"服务代码","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"dbEleCode",label:"字段编码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"eleName",label:"要素中文名称","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"eleUnit",label:"单位",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isCodeParam",label:"是否有标识代码表"}}),e._v(" "),a("el-table-column",{attrs:{prop:"codeTableId",label:"标识代码表"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-edit",type:"text",size:"mini"},on:{click:function(a){return e.showEditDialog(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-delete",type:"text",size:"mini"},on:{click:function(a){return e.deleteSingleCode(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.handleQuery}}),e._v(" "),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"calculate",attrs:{title:"添加",visible:e.DataDialog,width:"45%"},on:{"update:visible":function(t){e.DataDialog=t}}},[a("el-form",{ref:"ruleForm",attrs:{model:e.handleObj,rules:e.rules,"label-width":"130px"}},[a("el-form-item",{staticClass:"labelitem",attrs:{label:"服务代码:",prop:"userEleCode"}},[a("el-input",{attrs:{placeholder:"请输入服务代码名称"},model:{value:e.handleObj.userEleCode,callback:function(t){e.$set(e.handleObj,"userEleCode",t)},expression:"handleObj.userEleCode"}})],1),e._v(" "),a("el-form-item",{staticClass:"labelitem",attrs:{label:"字段编码:",prop:"dbEleCode"}},[a("el-input",{attrs:{placeholder:"请输入字段编码"},model:{value:e.handleObj.dbEleCode,callback:function(t){e.$set(e.handleObj,"dbEleCode",t)},expression:"handleObj.dbEleCode"}})],1),e._v(" "),a("el-form-item",{staticClass:"labelitem",attrs:{label:"要素名称:",prop:"eleName"}},[a("el-input",{attrs:{placeholder:"请输入要素中文名称"},model:{value:e.handleObj.eleName,callback:function(t){e.$set(e.handleObj,"eleName",t)},expression:"handleObj.eleName"}})],1),e._v(" "),a("el-form-item",{staticClass:"labelitem",attrs:{label:"单位名称:",prop:"eleUnit"}},[a("el-input",{attrs:{placeholder:"请输入单位名称"},model:{value:e.handleObj.eleUnit,callback:function(t){e.$set(e.handleObj,"eleUnit",t)},expression:"handleObj.eleUnit"}})],1),e._v(" "),a("el-form-item",{staticClass:"labelitem",attrs:{label:"是否有标识代码:",prop:"isCodeParam"}},[a("el-input",{attrs:{placeholder:"请输入是否标识代码"},model:{value:e.handleObj.isCodeParam,callback:function(t){e.$set(e.handleObj,"isCodeParam",t)},expression:"handleObj.isCodeParam"}})],1),e._v(" "),a("el-form-item",{staticClass:"labelitem",attrs:{label:"标识代码表:",prop:"codeTableId"}},[a("el-input",{attrs:{placeholder:"请输入标识代码表"},model:{value:e.handleObj.codeTableId,callback:function(t){e.$set(e.handleObj,"codeTableId",t)},expression:"handleObj.codeTableId"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.trueReportRecord("ruleForm")}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.DataDialog=!1}}},[e._v("取 消")])],1)],1)],1)},r=[],n=(a("ac6a"),a("b775")),o="http://10.40.79.18:8005";function s(e){return Object(n["a"])({url:o+"/system/serviceCodeManagement/list",method:"get",params:e})}function i(e){return Object(n["a"])({url:o+"/system/serviceCodeManagement/save",method:"post",data:e})}function d(e){return Object(n["a"])({url:o+"/system/serviceCodeManagement/edit",method:"put",data:e})}function u(e){return Object(n["a"])({url:o+"/system/serviceCodeManagement/getById",method:"get",params:e})}function c(e){return Object(n["a"])({url:o+"/system/serviceCodeManagement/deleteById",method:"delete",params:e})}function m(e){return Object(n["a"])({url:o+"/system/serviceCodeManagement/deleteByIds/"+e,method:"delete"})}var b={name:"filedSearchDeploy",data:function(){return{queryParams:{pageNum:1,pageSize:10,userEleCode:"",dbEleCode:"",eleName:""},editdataObj:{},handleObj:{userEleCode:"",dbEleCode:"",eleName:"",eleUnit:"",isCodeParam:"",codeTableId:""},DataDialog:!1,tableData:[],currentRow:[],total:0,dialogVisible:!1,rules:{userEleCode:[{required:!0,message:"请输入服务代码名称",trigger:"blur"}],dbEleCode:[{required:!0,message:"请输入字段编码",trigger:"blur"}],eleName:[{required:!0,message:"请输入要素中文名称",trigger:"blur"}],eleUnit:[{required:!0,message:"请输入单位名称",trigger:"blur"}],isCodeParam:[{required:!0,message:"请输入是否标识代码",trigger:"blur"}],codeTableId:[{required:!0,message:"请输入标识代码表",trigger:"blur"}]}}},mounted:function(){this.handleQuery()},methods:{table_index:function(e){return(this.queryParams.pageNum-1)*this.queryParams.pageSize+e+1},handleQuery:function(){var e=this;this.loading=!0,s(this.queryParams).then((function(t){e.tableData=t.data.pageData,e.total=t.data.totalCount,e.loading=!1}))},showAddDialog:function(){this.handleObj={},this.DataDialog=!0},showEditDialog:function(e){var t=this;u({id:e.id}).then((function(e){200==e.code?(t.handleObj=e.data,t.DataDialog=!0):t.msgError(e.msg)}))},cancelMsgHandle:function(){this.editVisible=!1,this.handleQuery()},deleteSingleCode:function(e){var t=this;this.$confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){console.log(e.id),c({id:e.id}).then((function(e){200==e.code?(t.msgSuccess("删除成功"),t.handleQuery()):t.msgError(e.msg)}))})).catch((function(){}))},deleteAlert:function(){var e=this;0!=this.currentRow.length?this.$confirm("确定要删除选中项吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=[];return e.currentRow.forEach((function(e){t.push(e.id)})),m(t.join(","))})).then((function(){e.msgSuccess("删除成功"),e.handleQuery()})).catch((function(){})):this.$message.error("请选择需要删除的记录！")},handleSelectionChange:function(e){this.currentRow=e},trueReportRecord:function(e){var t=this;console.log(this.handleObj),this.$refs[e].validate((function(a){a&&(t.handleObj.id?d(t.handleObj).then((function(a){200==a.code?(t.msgSuccess("编辑成功"),t.handleQuery(),t.$refs[e].resetFields(),t.DataDialog=!1):t.msgError(a.msg)})):i(t.handleObj).then((function(a){200==a.code?(t.msgSuccess("新增成功"),t.handleQuery(),t.$refs[e].resetFields(),t.DataDialog=!1):t.msgError(a.msg)})))}))}}},h=b,p=a("2877"),g=Object(p["a"])(h,l,r,!1,null,null,null);t["default"]=g.exports}}]);