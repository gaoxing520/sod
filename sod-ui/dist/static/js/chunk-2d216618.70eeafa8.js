(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d216618"],{c1e9:function(e,t,r){"use strict";r.r(t);var l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-form",{ref:"queryForm",staticClass:"searchBox",attrs:{model:e.queryParams,inline:!0}},[r("el-form-item",{attrs:{label:"格点要素服务代码:"}},[r("el-input",{attrs:{size:"small"},model:{value:e.queryParams.userFcstEle,callback:function(t){e.$set(e.queryParams,"userFcstEle",t)},expression:"queryParams.userFcstEle"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"索引表存储代码:"}},[r("el-input",{attrs:{size:"small"},model:{value:e.queryParams.dbFcstEle,callback:function(t){e.$set(e.queryParams,"dbFcstEle",t)},expression:"queryParams.dbFcstEle"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.handleQuery}},[e._v("查询")])],1)],1),e._v(" "),r("el-row",{staticClass:"handleTableBox",attrs:{gutter:10}},[r("el-col",{attrs:{span:1.5}},[r("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.showDialog("add")}}},[e._v("添加")])],1),e._v(" "),r("el-col",{attrs:{span:1.5}},[r("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.showDialog("edit")}}},[e._v("编辑")])],1),e._v(" "),r("el-col",{attrs:{span:1.5}},[r("el-button",{attrs:{size:"small",type:"danger",icon:"el-icon-delete"},on:{click:e.deleteCell}},[e._v("删除")])],1)],1),e._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableData,"row-key":"id"},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),r("el-table-column",{attrs:{prop:"userFcstEle",label:"要素服务代码"}}),e._v(" "),r("el-table-column",{attrs:{prop:"dbFcstEle",label:"要素存储短名"}}),e._v(" "),r("el-table-column",{attrs:{prop:"eleName",label:"中文名称"}}),e._v(" "),r("el-table-column",{attrs:{prop:"elePropertyName",label:"属性名(要素长名)","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{prop:"eleUnit",label:"要素单位"}})],1),e._v(" "),r("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.dialogTitle,visible:e.msgFormDialog,width:"50%"},on:{"update:visible":function(t){e.msgFormDialog=t}}},[r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"150px"}},[r("el-form-item",{attrs:{label:"要素服务代码:",prop:"userFcstEle"}},[r("el-input",{attrs:{placeholder:"请输入要素服务代码"},model:{value:e.ruleForm.userFcstEle,callback:function(t){e.$set(e.ruleForm,"userFcstEle",t)},expression:"ruleForm.userFcstEle"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"要素存储短名:",prop:"dbFcstEle"}},[r("el-input",{attrs:{placeholder:"请输入要素存储短名"},model:{value:e.ruleForm.dbFcstEle,callback:function(t){e.$set(e.ruleForm,"dbFcstEle",t)},expression:"ruleForm.dbFcstEle"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"中文名称:",prop:"eleName"}},[r("el-input",{attrs:{placeholder:"请输入中文名称"},model:{value:e.ruleForm.eleName,callback:function(t){e.$set(e.ruleForm,"eleName",t)},expression:"ruleForm.eleName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"属性名(要素长名):",prop:"elePropertyName"}},[r("el-input",{attrs:{placeholder:"请输入属性名(要素长名)"},model:{value:e.ruleForm.elePropertyName,callback:function(t){e.$set(e.ruleForm,"elePropertyName",t)},expression:"ruleForm.elePropertyName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"要素单位:",prop:"eleUnit"}},[r("el-input",{attrs:{placeholder:"请输入要素单位"},model:{value:e.ruleForm.eleUnit,callback:function(t){e.$set(e.ruleForm,"eleUnit",t)},expression:"ruleForm.eleUnit"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleTrue("ruleForm")}}},[e._v("确 定")]),e._v(" "),r("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("取 消")])],1)],1)],1)},a=[],s=(r("ac6a"),r("b775")),o="http://10.40.79.18:8005";function i(e){return Object(s["a"])({url:o+"/system/serviceCodeDefine/list",method:"get",params:e})}function n(e){return Object(s["a"])({url:o+"/system/serviceCodeDefine/save",method:"post",data:e})}function u(e){return Object(s["a"])({url:o+"/system/serviceCodeDefine/edit",method:"put",data:e})}function m(e){return Object(s["a"])({url:o+"/system/serviceCodeDefine/deleteByIds/"+e,method:"delete"})}var c={data:function(){return{loading:!0,queryParams:{pageNum:1,pageSize:10,examine_status:"",nameUser:"",nameSourceDB:"",time:["",""]},tableData:[],total:0,choserow:[],dialogTitle:"",msgFormDialog:!1,ruleForm:{},rules:{userFcstEle:[{required:!0,message:"请输入要素服务代码",trigger:"blur"}],dbFcstEle:[{required:!0,message:"请输入要素存储短名",trigger:"blur"}],eleName:[{required:!0,message:"请输入中文名称",trigger:"blur"}],elePropertyName:[{required:!0,message:"请输入属性名(要素长名)",trigger:"blur"}],eleUnit:[{required:!0,message:"请输入要素单位",trigger:"blur"}]}}},created:function(){this.getList()},methods:{table_index:function(e){return(this.queryParams.pageNum-1)*this.queryParams.pageSize+e+1},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},getList:function(){var e=this;this.loading=!0,i(this.queryParams).then((function(t){e.tableData=t.data.pageData,e.total=t.data.totalCount,e.loading=!1}))},handleSelectionChange:function(e){this.choserow=e},showDialog:function(e){if("add"==e)this.ruleForm={},this.dialogTitle="添加",this.msgFormDialog=!0;else{if(1!=this.choserow.length)return void this.$message({type:"error",message:"请选择一条数据"});this.dialogTitle="编辑",this.msgFormDialog=!0,console.log(this.choserow),this.ruleForm=this.choserow[0]}},handleTrue:function(e){var t=this;console.log(this.ruleForm),this.$refs[e].validate((function(r){if(!r)return console.log("error submit!!"),!1;"添加"==t.dialogTitle?n(t.ruleForm).then((function(r){200===r.code?(t.msgSuccess("新增成功"),t.$refs[e].resetFields(),t.msgFormDialog=!1,t.getList()):t.msgError(r.msg)})):"编辑"==t.dialogTitle&&u(t.ruleForm).then((function(r){200===r.code?(t.msgSuccess("编辑成功"),t.$refs[e].resetFields(),t.msgFormDialog=!1,t.getList()):t.msgError(r.msg)}))}))},deleteCell:function(){var e=this;if(0!=this.choserow.length){var t=[];this.choserow.forEach((function(e){t.push(e.id)})),m(t.join(",")).then((function(t){200==t.code&&(e.msgSuccess("删除成功"),e.getList())}))}else this.$message({type:"error",message:"请选择一条数据"})},resetForm:function(e){this.$refs[e].resetFields(),this.msgFormDialog=!1}}},d=c,g=r("2877"),p=Object(g["a"])(d,l,a,!1,null,null,null);t["default"]=p.exports}}]);