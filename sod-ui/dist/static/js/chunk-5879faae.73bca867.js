(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5879faae"],{"63d4":function(e,r,s){},"64d4":function(e,r,s){"use strict";var t=s("63d4"),a=s.n(t);a.a},"9e0c":function(e,r,s){"use strict";s.r(r);var t=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"userManageTemplate"},[s("el-form",{ref:"formClass",staticClass:"add_form",attrs:{model:e.formObject,rules:e.rules,"label-width":"95px"}},[s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"userName",label:"用户名:"}},[s("el-input",{attrs:{size:"small"},model:{value:e.formObject.userName,callback:function(r){e.$set(e.formObject,"userName",r)},expression:"formObject.userName"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"user_role_id",label:"所属角色："}},[s("el-select",{attrs:{size:"small"},model:{value:e.formObject.user_role_id,callback:function(r){e.$set(e.formObject,"user_role_id",r)},expression:"formObject.user_role_id"}},e._l(e.roles,(function(e,r){return s("el-option",{key:r,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"userPassword",label:"用户密码:"}},[s("el-input",{attrs:{type:"password",size:"small"},model:{value:e.formObject.userPassword,callback:function(r){e.$set(e.formObject,"userPassword",r)},expression:"formObject.userPassword"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"userPhone",label:"电话:"}},[s("el-input",{attrs:{size:"small"},model:{value:e.formObject.userPhone,callback:function(r){e.$set(e.formObject,"userPhone",r)},expression:"formObject.userPhone"}})],1)],1)],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"userNickname",label:"用户昵称:"}},[s("el-input",{attrs:{size:"small"},model:{value:e.formObject.userNickname,callback:function(r){e.$set(e.formObject,"userNickname",r)},expression:"formObject.userNickname"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"userRealname",label:"真实姓名:"}},[s("el-input",{attrs:{size:"small"},model:{value:e.formObject.userRealname,callback:function(r){e.$set(e.formObject,"userRealname",r)},expression:"formObject.userRealname"}})],1)],1)],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"userAge",label:"年龄:"}},[s("el-input",{attrs:{size:"small"},model:{value:e.formObject.userAge,callback:function(r){e.$set(e.formObject,"userAge",r)},expression:"formObject.userAge"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"userSex",label:"性别:"}},[s("el-radio",{attrs:{label:"男"},model:{value:e.formObject.userSex,callback:function(r){e.$set(e.formObject,"userSex",r)},expression:"formObject.userSex"}},[e._v("男")]),e._v(" "),s("el-radio",{attrs:{label:"女"},model:{value:e.formObject.userSex,callback:function(r){e.$set(e.formObject,"userSex",r)},expression:"formObject.userSex"}},[e._v("女")])],1)],1)],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"userQQ",label:"QQ:"}},[s("el-input",{attrs:{size:"small"},model:{value:e.formObject.userQQ,callback:function(r){e.$set(e.formObject,"userQQ",r)},expression:"formObject.userQQ"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"userMail",label:"邮箱:"}},[s("el-input",{attrs:{size:"small"},model:{value:e.formObject.userMail,callback:function(r){e.$set(e.formObject,"userMail",r)},expression:"formObject.userMail"}})],1)],1)],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{label:"地址:"}},[s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"provinceAndCity"}},[s("el-cascader",{attrs:{size:"small",options:e.options},on:{change:e.handleProvinceAndCityChange},model:{value:e.formObject.provinceAndCity,callback:function(r){e.$set(e.formObject,"provinceAndCity",r)},expression:"formObject.provinceAndCity"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"userAddress"}},[s("el-input",{attrs:{size:"small"},model:{value:e.formObject.userAddress,callback:function(r){e.$set(e.formObject,"userAddress",r)},expression:"formObject.userAddress"}})],1)],1)],1)],1)],1)],1),e._v(" "),s("el-row",[s("el-form-item",{attrs:{prop:"mark",label:"备注:"}},[s("el-input",{attrs:{type:"textarea",size:"small"},model:{value:e.formObject.mark,callback:function(r){e.$set(e.formObject,"mark",r)},expression:"formObject.mark"}})],1)],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.saveUserInfo("formClass")}}},[e._v("确定")]),e._v(" "),s("el-button",{on:{click:function(r){return e.handleClose("formClass")}}},[e._v("取消")])],1)],1)},a=[],o=(s("28a5"),{name:"userAddOrEdit",props:{handleObj:{type:Object}},data:function(){return{options:"",formObject:{userName:"",user_role_id:"",userPassword:"",userPhone:"",userNickname:"",userRealname:"",userAge:"",userSex:"男",userQQ:"",userMail:"",province:"",city:"",county:"",provinceAndCity:[],userAddress:"",mark:""},roles:[],rules:{userName:[{required:!0,message:"用户名必须输入",trigger:"blur"}],user_role_id:[{required:!0,message:"必须选择用户角色",trigger:"blur"}],userPassword:[{required:!0,message:"用户密码必须输入",trigger:"blur"}],userRealname:[{required:!0,message:"用户真实姓名必须输入",trigger:"blur"}],userAge:[{required:!0,message:"用户年龄必须输入",trigger:"blur"}],userMail:[{required:!0,message:"邮箱必须输入",trigger:"blur"}]}}},created:function(){},methods:{init:function(){if(void 0==this.handleObj.userId);else{this.formObject=this.handleObj;var e=this.handleObj.province+","+this.handleObj.city+","+this.handleObj.county;this.formObject.provinceAndCity=e.split(",")}},handleProvinceAndCityChange:function(){},userRoles:function(){var e=this;this.axios.post(interfaceObj.userManage_selectRole).then((function(r){0==r.data.returnCode&&(e.roles=r.data.data)}))},saveUserInfo:function(e){var r=this;this.$refs[e].validate((function(e){if(e){if("admin"!=r.formObject.userName&&"3"==r.formObject.user_role_id)return void r.$message({message:"普通用户不能授予【超级管理员】角色",type:"warning"});r.formObject.length>0&&(r.formObject.province=r.formObject.provinceAndCity[0],r.formObject.city=r.formObject.provinceAndCity[1],r.formObject.county=r.formObject.provinceAndCity[2]),null!=r.formObject.userId&&""!=r.formObject.userId?r.axios.post(interfaceObj.userManage_updateUser,r.formObject).then((function(e){"0"===e.data.returnCode&&(r.$message({message:"修改成功",type:"success"}),r.$emit("handleDialogClose"))})):r.axios.post(interfaceObj.userManage_getByUserName,{userName:r.formObject.userName}).then((function(e){0==e.data.data.length?r.axios.post(interfaceObj.userManage_addUser,r.formObject).then((function(e){"0"===e.data.returnCode?(r.$message({message:"添加成功",type:"success"}),r.$emit("handleDialogClose")):r.$message({message:"用户信息保存失败！！",type:"error"})})):r.$message({message:"用户名不能重复！！",type:"warning"})}))}}))},handleClose:function(e){this.$refs[e].resetFields(),this.$emit("handleDialogClose")}}}),l=o,n=(s("64d4"),s("2877")),i=Object(n["a"])(l,t,a,!1,null,null,null);r["default"]=i.exports}}]);