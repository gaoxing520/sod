(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e740c068","chunk-cf2360fe","chunk-624bc7e6"],{"1fb2":function(e,t,r){"use strict";r.d(t,"d",(function(){return i})),r.d(t,"e",(function(){return l})),r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return s})),r.d(t,"f",(function(){return c})),r.d(t,"c",(function(){return u}));var a=r("b775"),n="http://10.40.79.18:8005";function i(e){return Object(a["a"])({url:n+"/restApi/dicmgn/findMenu",method:"get",params:e})}function l(e){return Object(a["a"])({url:n+"/restApi/dicmgn/page",method:"get",params:e})}function o(e){return Object(a["a"])({url:n+"/restApi/dicmgn/deleteByIds",method:"delete",params:e})}function s(e){return Object(a["a"])({url:n+"/restApi/dicmgn/addType",method:"post",params:e})}function c(e){return Object(a["a"])({url:n+"/restApi/dicmgn/updateById",method:"put",params:e})}function u(e){return Object(a["a"])({url:n+"/restApi/dicmgn/findById",method:"put",params:e})}},"2bc2":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"fileHandleDict"},[r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"关键字:",prop:"keyCol"}},[r("el-input",{attrs:{placeholder:"请输入字段编码"},model:{value:e.ruleForm.keyCol,callback:function(t){e.$set(e.ruleForm,"keyCol",t)},expression:"ruleForm.keyCol"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"中文名:"}},[r("el-input",{model:{value:e.ruleForm.nameCn,callback:function(t){e.$set(e.ruleForm,"nameCn",t)},expression:"ruleForm.nameCn"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"字段类型:",prop:"type"}},[r("el-select",{model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},e._l(e.dictTypes,(function(e){return r("el-option",{key:e.keyCol,attrs:{label:e.keyCol,value:e.type}})})),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"字典描述:"}},[r("el-input",{attrs:{placeholder:"请输入字典描述"},model:{value:e.ruleForm.description,callback:function(t){e.$set(e.ruleForm,"description",t)},expression:"ruleForm.description"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否可删:",prop:"canDelete"}},[r("el-select",{model:{value:e.ruleForm.canDelete,callback:function(t){e.$set(e.ruleForm,"canDelete",t)},expression:"ruleForm.canDelete"}},[r("el-option",{attrs:{label:"是",value:"Y"}}),e._v(" "),r("el-option",{attrs:{label:"否",value:"N"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"显示序号:",prop:"serialNumber"}},[r("el-input",{attrs:{placeholder:"请输入字典描述"},model:{value:e.ruleForm.serialNumber,callback:function(t){e.$set(e.ruleForm,"serialNumber",t)},expression:"ruleForm.serialNumber"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){return e.cancelDialog()}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.trueDialog("ruleForm")}}},[e._v("确 定")])],1)],1)},n=[],i=(r("96cf"),r("3b8d")),l=r("1fb2"),o={name:"filedSearchDeploy",components:{},props:{handleDictObj:{type:Object},handleGroup:{type:Array}},data:function(){return{ruleForm:{keyCol:"",description:"",nameCn:"",canDelete:"",serialNumber:"",type:"",flag:"D"},GroupNames:[],dictTypes:[],rules:{keyCol:[{required:!0,message:"请输入关键字",trigger:"blur"}],canDelete:[{required:!0,message:"请选择是否可删",trigger:"change"}],type:[{required:!0,message:"请选择字段类型",trigger:"change"}],serialNumber:[{required:!0,message:"请输入序号",trigger:"blur"}]}}},created:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.dictTypes=this.handleGroup,this.handleDictObj.id&&(this.ruleForm=this.handleDictObj);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{cancelDialog:function(){this.$emit("cancelDialog",!1)},trueDialog:function(e){var t=this;console.log(this.ruleForm),this.$refs[e].validate((function(e){e&&(t.handleDictObj.id?Object(l["f"])(t.ruleForm).then((function(e){"200"==e.code?(t.$message({type:"success",message:"编辑成功"}),t.$emit("cancelDialog","Dict")):t.$message({type:"error",message:"编辑失败"})})):Object(l["a"])(t.ruleForm).then((function(e){"200"==e.code?(t.$message({type:"success",message:"新增成功"}),t.$emit("cancelDialog","Dict")):t.$message({type:"error",message:"新增失败"})})))}))}}},s=o,c=(r("d2ae"),r("2877")),u=Object(c["a"])(s,a,n,!1,null,null,null);t["default"]=u.exports},"2d93":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container fielddManagement"},[r("el-container",[r("el-aside",{staticClass:"elAside"},[r("div",{staticClass:"sourceTreeTopOp"},[e.showFilter?r("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}):e._e(),e._v(" "),e.showFilter?r("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-back"},on:{click:function(t){return e.back()}}}):e._e(),e._v(" "),e.showTreeBtn?r("el-button-group",[r("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:function(t){return e.addType()}}}),e._v(" "),r("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(t){return e.editType()}}}),e._v(" "),r("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-delete"},on:{click:function(t){return e.deleteAlert()}}}),e._v(" "),r("el-button",{staticClass:"sourceBtn",attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:function(t){return e.showSearch()}}})],1):e._e()],1),e._v(" "),r("div",{staticClass:"treeTitle"},[e._v("字典分组")]),e._v(" "),r("el-scrollbar",{attrs:{"wrap-class":"scrollbar-wrapper"}},[r("el-tree",{ref:"elTree",staticClass:"el-tree elTree",attrs:{"filter-node-method":e.filterNode,data:e.treeData,props:e.defaultProps,"highlight-current":!0,"node-key":"id","render-content":e.renderContent},on:{"node-click":e.handleNodeClick}})],1)],1),e._v(" "),r("el-main",{staticClass:"elMain"},[r("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[r("el-form-item",{attrs:{label:"关键字"}},[r("el-input",{attrs:{size:"small",placeholder:"申请用户"},model:{value:e.queryParams.keyCol,callback:function(t){e.$set(e.queryParams,"keyCol",t)},expression:"queryParams.keyCol"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.handleQuery}},[e._v("查询")])],1)],1),e._v(" "),r("el-row",{staticClass:"mb8",attrs:{gutter:10}},[r("el-col",{attrs:{span:1.5}},[r("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}}},[e._v("新增字典")])],1),e._v(" "),r("el-col",{attrs:{span:1.5}},[r("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.editRow()}}},[e._v("编辑字典")])],1),e._v(" "),r("el-col",{attrs:{span:1.5}},[r("el-button",{attrs:{size:"small",type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.deleteRow()}}},[e._v("删除字典")])],1)],1),e._v(" "),r("el-table",{attrs:{data:e.tableData},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"index",width:"50",index:e.table_index}}),e._v(" "),r("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),r("el-table-column",{attrs:{label:"关键字",prop:"keyCol"}}),e._v(" "),r("el-table-column",{attrs:{label:"中文名",prop:"nameCn"}}),e._v(" "),r("el-table-column",{attrs:{label:"字典类型",prop:"dataType"}}),e._v(" "),r("el-table-column",{attrs:{label:"字典描述",prop:"description"}}),e._v(" "),r("el-table-column",{attrs:{label:"是否可删",prop:"canDelete"},scopedSlots:e._u([{key:"default",fn:function(t){return["Y"==t.row.canDelete?r("span",[e._v("是")]):e._e(),e._v(" "),"N"==t.row.canDelete?r("span",[e._v("否")]):e._e()]}}])})],1),e._v(" "),r("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.handleQuery}})],1)],1),e._v(" "),r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.dialogTitle,visible:e.TreeDialog},on:{"update:visible":function(t){e.TreeDialog=t}}},[e.TreeDialog?r("handleTree",{attrs:{handleTreeObj:e.handleTreeObj},on:{cancelDialog:e.cancelDialog}}):e._e()],1),e._v(" "),r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.dialogTitle,visible:e.DictDialog},on:{"update:visible":function(t){e.DictDialog=t}}},[e.DictDialog?r("handleDict",{attrs:{handleGroup:e.handleGroup,handleDictObj:e.handleDictObj},on:{cancelDialog:e.cancelDialog}}):e._e()],1)],1)},n=[],i=(r("ac6a"),r("96cf"),r("3b8d")),l=r("1fb2"),o=r("4837"),s=r("2bc2"),c={components:{handleTree:o["default"],handleDict:s["default"]},data:function(){return{showFilter:!1,showTreeBtn:!0,filterText:"",treeData:[],loading:!0,menuType:"2",defaultProps:{children:"children",label:"keyCol"},checkNode:{},dialogTitle:"",TreeDialog:!1,handleTreeObj:{},tableData:[],total:0,queryParams:{keyCol:"",pageNum:1,pageSize:10},DictDialog:!1,handleDictObj:{},multipleSelection:[]}},created:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getTreeData();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),watch:{filterText:function(e){this.$refs.elTree.filter(e)}},methods:{filterNode:function(e,t){return!e||-1!==t.keyCol.indexOf(e)},getTreeData:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["d"])({menu:this.menuType}).then((function(e){e.success?t.treeData=e.data:t.$notify.error({title:"错误",message:e.msg})}));case 2:this.treeData.length>0?(this.$refs.elTree.setCurrentKey(this.treeData[0].id),this.queryParams.menu=this.treeData[0].menu,this.queryParams.type=this.treeData[0].type,this.checkNode=this.treeData[0],this.handleQuery()):this.loading=!1;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),renderContent:function(e,t){var r=t.node;t.data,t.store;return e("span",{class:"custom-tree-node treeItem"},[e("i",{class:"el-icon-menu"}),e("span",{style:"margin-left:5px;"},[r.label])])},handleNodeClick:function(e){this.queryParams.menu=e.menu,this.queryParams.type=e.type,this.checkNode=e,this.handleQuery()},handleQuery:function(){var e=this;this.loading=!0,Object(l["e"])(this.queryParams).then((function(t){e.tableData=t.data.pageData,e.total=t.data.totalCount,e.loading=!1}))},table_index:function(e){return(this.queryParams.pageNum-1)*this.queryParams.pageSize+e+1},addType:function(){this.dialogTitle="添加",this.handleTreeObj={},this.TreeDialog=!0},editType:function(){this.checkNode.id?(this.dialogTitle="编辑",this.handleTreeObj=this.checkNode,this.TreeDialog=!0):this.$message({message:"请选中需要编辑的数据!",type:"error"})},deleteAlert:function(){var e=this;this.checkNode.id?this.$confirm("数据和类型都会被删除，确认删除","提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning"}).then((function(){Object(l["b"])({ids:e.checkNode.id}).then((function(t){200==t.code?e.$message({type:"success",message:"删除成功"}):e.$message({type:"error",message:t.msg}),e.getTreeData()}))})).catch((function(){})):this.$message({message:"请选中需要删除的数据!",type:"warning"})},showSearch:function(){this.showFilter=!0,this.showTreeBtn=!1},back:function(){this.showFilter=!1,this.showTreeBtn=!0},cancelDialog:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("Dict"===t&&this.handleQuery(),"Tree"!==t){e.next=4;break}return e.next=4,this.getTreeData();case 4:this.TreeDialog=!1,this.DictDialog=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),addRow:function(){this.handleDictObj={},this.dialogTitle="新增字典",this.handleGroup=this.treeData,this.DictDialog=!0},editRow:function(){var e=this;1==this.multipleSelection.length?(this.handleGroup=this.treeData,Object(l["c"])({id:this.multipleSelection[0].id}).then((function(t){e.dialogTitle="编辑字典",e.handleDictObj=t.data,e.DictDialog=!0}))):this.$message({type:"error",message:"请选择一条数据"})},deleteRow:function(){var e=this;if(0!=this.multipleSelection.length){var t=!1,r=[];this.multipleSelection.forEach((function(e){(t||"N"==e.canDelete)&&(t=!0,r.push(e.keyCol))})),t?this.$message({type:"error",message:r.join(",")+"只能修改，不能删除"}):t||this.$confirm("确认删除吗","提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning"}).then((function(){var t=[];e.multipleSelection.forEach((function(e){t.push(e.id)})),Object(l["b"])({ids:t.join(",")}).then((function(t){200==t.code?e.$message({type:"success",message:"删除成功"}):e.$message({type:"error",message:t.msg}),e.handleQuery()}))})).catch((function(){}))}else this.$message({type:"error",message:"请选择一条数据"})},handleSelectionChange:function(e){this.multipleSelection=e}}},u=c,m=(r("39c2"),r("2877")),d=Object(m["a"])(u,a,n,!1,null,null,null);t["default"]=d.exports},"39c2":function(e,t,r){"use strict";var a=r("5ba5"),n=r.n(a);n.a},4837:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"fileHandleTree"},[r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{prop:"keyCol",label:"分组名:"}},[r("el-input",{attrs:{size:"small",placeholder:"请输入分组名"},model:{value:e.ruleForm.keyCol,callback:function(t){e.$set(e.ruleForm,"keyCol",t)},expression:"ruleForm.keyCol"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"description",label:"分组描述:"}},[r("el-input",{attrs:{size:"small"},model:{value:e.ruleForm.description,callback:function(t){e.$set(e.ruleForm,"description",t)},expression:"ruleForm.description"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"serialNumber",label:"显示序号:"}},[r("el-input",{attrs:{size:"small"},model:{value:e.ruleForm.serialNumber,callback:function(t){e.$set(e.ruleForm,"serialNumber",t)},expression:"ruleForm.serialNumber"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){return e.cancelDialog()}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.trueDialog("ruleForm")}}},[e._v("确 定")])],1)],1)},n=[],i=r("1fb2"),l={name:"filedSearchDeploy",components:{},props:{handleTreeObj:{type:Object}},data:function(){return{ruleForm:{keyCol:"",description:"",serialNumber:"",flag:"T",menu:2},rules:{keyCol:[{required:!0,message:"分组名称为必输项",trigger:"blur"}],description:[{required:!0,message:"分组描述为必输项",trigger:"blur"}],serialNumber:[{required:!0,message:"分组序号为必输项",trigger:"blur"}]}}},created:function(){this.ruleForm=this.handleTreeObj},methods:{cancelDialog:function(){this.$emit("cancelDialog",!1)},trueDialog:function(e){var t=this;this.$refs[e].validate((function(e){e&&(t.handleTreeObj.id?Object(i["f"])(t.ruleForm).then((function(e){"200"==e.code?(t.$message({type:"success",message:"编辑成功"}),t.$emit("cancelDialog","Tree")):t.$message({type:"error",message:e.msg})})):Object(i["a"])(t.ruleForm).then((function(e){"200"==e.code?(t.$message({type:"success",message:"新增成功"}),t.$emit("cancelDialog","Tree")):t.$message({type:"error",message:"新增失败"})})))}))}}},o=l,s=r("2877"),c=Object(s["a"])(o,a,n,!1,null,null,null);t["default"]=c.exports},"57bc":function(e,t,r){},"5ba5":function(e,t,r){},d2ae:function(e,t,r){"use strict";var a=r("57bc"),n=r.n(a);n.a}}]);