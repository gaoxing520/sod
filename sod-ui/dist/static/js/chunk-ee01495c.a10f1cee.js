(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ee01495c"],{"0397":function(e,t,r){},2267:function(e,t,r){"use strict";var a=r("0397"),l=r.n(a);l.a},3027:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-form",{ref:"queryForm",staticClass:"searchBox",attrs:{model:e.queryParams,inline:!0}},[r("el-form-item",{attrs:{label:"GRIB版本:"}},[r("el-input",{attrs:{size:"small",placeholder:"请输入GRIB版本"},model:{value:e.queryParams.gribVersion,callback:function(t){e.$set(e.queryParams,"gribVersion",t)},expression:"queryParams.gribVersion"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"参数编码:"}},[r("el-input",{attrs:{size:"small",placeholder:"请输入参数编码"},model:{value:e.queryParams.parameterId,callback:function(t){e.$set(e.queryParams,"parameterId",t)},expression:"queryParams.parameterId"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"要素存储短名:"}},[r("el-input",{attrs:{size:"small",placeholder:"请输入要素存储短名"},model:{value:e.queryParams.eleCodeShort,callback:function(t){e.$set(e.queryParams,"eleCodeShort",t)},expression:"queryParams.eleCodeShort"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.handleQuery}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{type:"text"},on:{click:e.superClick}},[r("i",{staticClass:"el-icon-share"}),e._v("高级搜索\n      ")])],1)],1),e._v(" "),r("el-row",{staticClass:"handleTableBox",attrs:{gutter:10}},[r("el-col",{attrs:{span:1.5}},[r("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.showDialog("add")}}},[e._v("添加")])],1),e._v(" "),r("el-col",{attrs:{span:1.5}},[r("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.showDialog("edit")}}},[e._v("编辑")])],1),e._v(" "),r("el-col",{attrs:{span:1.5}},[r("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:e.actionUrl,multiple:"",limit:1,"show-file-list":e.showFile,"before-upload":e.beforeAvatarUpload,"on-success":e.handleAvatarSuccess,header:e.importHeaders}},[r("el-button",{attrs:{size:"small",type:"success",icon:"el-icon-upload2"}},[e._v("导入")])],1)],1),e._v(" "),r("el-col",{attrs:{span:1.5}},[r("el-button",{attrs:{size:"small",type:"success",icon:"el-icon-download"},on:{click:function(t){return e.tableExoprt()}}},[e._v("导出")])],1),e._v(" "),r("el-col",{attrs:{span:1.5}},[r("el-button",{attrs:{size:"small",type:"danger",icon:"el-icon-delete"},on:{click:e.deleteCell}},[e._v("删除")])],1)],1),e._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableData,"row-key":"id"},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),r("el-table-column",{attrs:{prop:"eleCodeShort",label:"要素存储短名"}}),e._v(" "),r("el-table-column",{attrs:{prop:"subjectId",label:"学科"}}),e._v(" "),r("el-table-column",{attrs:{prop:"classify",label:"参数种类"}}),e._v(" "),r("el-table-column",{attrs:{prop:"parameterId",label:"参数编码"}}),e._v(" "),r("el-table-column",{attrs:{prop:"gribVersion",label:"GRIB版本"}}),e._v(" "),r("el-table-column",{attrs:{prop:"publicConfig",label:"是否为共有配置"}}),e._v(" "),r("el-table-column",{attrs:{prop:"templateId",label:"模板编号"}}),e._v(" "),r("el-table-column",{attrs:{prop:"templateDesc",label:"模板说明"}})],1),e._v(" "),r("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.dialogTitle,visible:e.msgFormDialog,width:"50%","highlight-current-row":""},on:{"update:visible":function(t){e.msgFormDialog=t}}},[r("el-form",{ref:"ruleForm",staticClass:"gribdefineDialog",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"130px"}},[r("el-form-item",{attrs:{label:"要素存储短名:",prop:"eleCodeShort"}},[r("el-input",{attrs:{placeholder:"请输入要素存储短名"},model:{value:e.ruleForm.eleCodeShort,callback:function(t){e.$set(e.ruleForm,"eleCodeShort",t)},expression:"ruleForm.eleCodeShort"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"学科:",prop:"subjectId"}},[r("el-input",{attrs:{type:"number",placeholder:"请输入数字"},model:{value:e.ruleForm.subjectId,callback:function(t){e.$set(e.ruleForm,"subjectId",e._n(t))},expression:"ruleForm.subjectId"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"参数种类:",prop:"classify"}},[r("el-input",{attrs:{type:"number",placeholder:"请输入数字"},model:{value:e.ruleForm.classify,callback:function(t){e.$set(e.ruleForm,"classify",e._n(t))},expression:"ruleForm.classify"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"参数编码:",prop:"parameterId"}},[r("el-input",{attrs:{type:"number",placeholder:"请输入数字"},model:{value:e.ruleForm.parameterId,callback:function(t){e.$set(e.ruleForm,"parameterId",e._n(t))},expression:"ruleForm.parameterId"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"GRIB版本:",prop:"gribVersion"}},[r("el-select",{model:{value:e.ruleForm.gribVersion,callback:function(t){e.$set(e.ruleForm,"gribVersion",e._n(t))},expression:"ruleForm.gribVersion"}},[r("el-option",{attrs:{label:"1",value:"1"}}),e._v(" "),r("el-option",{attrs:{label:"2",value:"2"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"是否为共有配置:",prop:"publicConfig"}},[r("el-select",{model:{value:e.ruleForm.publicConfig,callback:function(t){e.$set(e.ruleForm,"publicConfig",t)},expression:"ruleForm.publicConfig"}},[r("el-option",{attrs:{label:"是",value:"Y"}}),e._v(" "),r("el-option",{attrs:{label:"否",value:"N"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"模板编号:",prop:"templateId"}},[r("el-input",{attrs:{placeholder:"请输入模板ID"},model:{value:e.ruleForm.templateId,callback:function(t){e.$set(e.ruleForm,"templateId",t)},expression:"ruleForm.templateId"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"模板说明:",prop:"templateDesc"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.templateDesc,callback:function(t){e.$set(e.ruleForm,"templateDesc",t)},expression:"ruleForm.templateDesc"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleTrue("ruleForm")}}},[e._v("确 定")]),e._v(" "),r("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("取 消")])],1)],1),e._v(" "),r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"筛选",visible:e.dialogSuperSearch,"before-close":e.closeSuperSearch},on:{"update:visible":function(t){e.dialogSuperSearch=t}}},[e.dialogSuperSearch?r("super-search",{ref:"supersearchinfo",attrs:{superObj:e.superObj},on:{getList:e.getList}}):e._e()],1)],1)},l=[],s=(r("ac6a"),r("4e1f")),o=r("7d2a"),i={components:{SuperSearch:o["a"]},data:function(){return{loading:!0,queryParams:{pageNum:1,pageSize:10},tableData:[],total:0,superObj:{},dialogSuperSearch:!1,actionUrl:"",showFile:!1,importHeaders:{enctype:"multipart/form-data"},choserow:[],dialogTitle:"",msgFormDialog:!1,ruleForm:{},rules:{eleCodeShort:[{required:!0,message:"请输入活动区域",trigger:"blur"}],subjectId:[{required:!0,message:"请输入数字格式学科",trigger:"blur"}],classify:[{required:!0,message:"请输入数字格式参数种类",trigger:"blur"}],parameterId:[{required:!0,message:"请输入数字格式参数编码",trigger:"blur"}],gribVersion:[{required:!0,message:"请选择GRIB版本",trigger:"change"}],publicConfig:[{required:!0,message:"请选择是否为共有配置",trigger:"change"}],templateDesc:[{required:!0,message:"请输入模板说明",trigger:"blur"}]}}},created:function(){this.getList()},methods:{table_index:function(e){return(this.queryParams.pageNum-1)*this.queryParams.pageSize+e+1},handleQuery:function(){this.getList()},getList:function(e){var t=this;if(e&&e.domains){for(var r=e.domains,a={},l=0;l<r.length;l++)a[r[l].select]=r[l].value;Object.assign(this.queryParams,a)}this.loading=!0,Object(s["c"])(this.queryParams).then((function(e){t.tableData=e.data.pageData,t.total=e.data.totalCount,t.loading=!1}))},showDialog:function(e){if("add"==e)this.dialogTitle="添加",this.msgFormDialog=!0;else{if(1!=this.choserow.length)return void this.$message({type:"error",message:"请选择一条数据"});this.dialogTitle="编辑",this.ruleForm=this.choserow[0],this.msgFormDialog=!0}},handleTrue:function(e){var t=this;this.$refs[e].validate((function(r){if(!r)return console.log("error submit!!"),!1;"添加"==t.dialogTitle?(console.log(t.ruleForm),Object(s["b"])(t.ruleForm).then((function(r){200===r.code?(t.msgSuccess("新增成功"),t.$refs[e].resetFields(),t.msgFormDialog=!1,t.getList()):t.msgError(r.msg)}))):"编辑"==t.dialogTitle&&Object(s["e"])(t.ruleForm).then((function(r){200===r.code?(t.msgSuccess("编辑成功"),t.$refs[e].resetFields(),t.msgFormDialog=!1,t.getList()):t.msgError(r.msg)}))}))},resetForm:function(e){this.$refs[e].resetFields(),this.msgFormDialog=!1},beforeAvatarUpload:function(e){var t="application/json"===e.type;t||this.$message.error("导入文件只能是 JSON 格式!")},handleAvatarSuccess:function(e,t){0==e.returnCode?(this.$message({type:"success",message:"导入成功"}),this.getList()):this.$message({type:"error",message:"导入失败"}),this.$refs.upload.clearFiles()},handleSelectionChange:function(e){this.choserow=e},deleteCell:function(){var e=this;if(0!=this.choserow.length){var t=[];this.choserow.forEach((function(e){t.push(e.id)})),Object(s["d"])(t.join(",")).then((function(t){200==t.code&&(e.msgSuccess("删除成功"),e.getList())}))}else this.$message({type:"error",message:"请选择一条数据"})},tableExoprt:function(){Object(s["a"])().then((function(e){}))},superClick:function(){this.superObj={},this.superObj.pageName="GRIB参数定义",this.dialogSuperSearch=!0},closeSuperSearch:function(){this.queryParams={gribVersion:"",parameterId:"",eleCodeShort:""},this.dialogSuperSearch=!1}}},n=i,u=(r("2267"),r("2877")),c=Object(u["a"])(n,a,l,!1,null,null,null);t["default"]=c.exports},"4e1f":function(e,t,r){"use strict";r.d(t,"c",(function(){return s})),r.d(t,"b",(function(){return o})),r.d(t,"e",(function(){return i})),r.d(t,"d",(function(){return n})),r.d(t,"a",(function(){return u}));var a=r("b775"),l="http://10.40.79.18:8005";function s(e){return Object(a["a"])({url:l+"/system/gribParameterDefine/list",method:"get",params:e})}function o(e){return Object(a["a"])({url:l+"/system/gribParameterDefine/save",method:"post",data:e})}function i(e){return Object(a["a"])({url:l+"/system/gribParameterDefine/edit",method:"put",data:e})}function n(e){return Object(a["a"])({url:l+"/system/gribParameterDefine/deleteByIds/"+e,method:"delete"})}function u(){return Object(a["a"])({url:l+"/system/api/gridEleDecodeDefine/exportJSON",method:"post"})}}}]);